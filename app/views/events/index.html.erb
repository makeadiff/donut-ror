<h1>Listing Events</h1>
<%= form_tag('/events', :method => 'get') do %>  
  <p>  
    <%= text_field_tag :search, params[:search] %>  
    <%= submit_tag "Filter", :name => nil %>  
  </p> 
<% end %>

<table>
  <thead>
    <tr>
      <th width="80"><%= sortable "event_name", "Name" %></th>
      <th width="100">Logo</th>
      <th width="85"><%= sortable "ticket_price", "Ticket Price" %></th>
      <th width="75"><%= sortable "description", "Description" %></th>
      <th width="70"><%= sortable "date_range_from", "Start Date" %></th>
      <th width="70"><%= sortable "date_range_to", "End Date" %></th>
      <th width="80"><%= sortable "venue_address", "Venue" %></th>
      <th width="75"><%= sortable "city_id", "City" %></th>
      <th width="80"><%= sortable "state_id", "Region" %></th>
      <th colspan="3" class="align-center">Actions</th>
    </tr>
  </thead>

  <tbody>
    <% @events.each do |event| %>
      <tr>
        <td><%= event.event_name %></td>
        <td><%= image_tag event.image_url , :size => "80x50"%></td>
        <td><%= event.ticket_price %></td>
        <td><%= event.description %></td>
        <td><%= event.date_range_from %></td>
        <td><%= event.date_range_to %></td>
        <td><%= event.venue_address %></td>
        <td><%= event.city_name() %></td>
        <td><%= event.state_name() %></td>
        <td><%= link_to 'Show', event %></td>
        <td><%= link_to 'Edit', edit_event_path(event) %></td>
        <td><%= link_to 'Delete', event, method: :delete, data: { confirm: 'Are you sure?' } %></td>
      </tr>
    <% end %>
      <tr class="pagination-row">
          <td colspan="12"><div class="will-paginate"><%= will_paginate @events %></div></td>
      </tr>
  </tbody>
</table>




